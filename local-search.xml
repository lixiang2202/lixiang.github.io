<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/12/01/hello-world/"/>
    <url>/2024/12/01/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2024/12/01/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <url>/2024/12/01/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="设置启用专用服务器–Dedicated-Server"><a href="#设置启用专用服务器–Dedicated-Server" class="headerlink" title="设置启用专用服务器–Dedicated Server"></a>设置启用专用服务器–Dedicated Server</h1><h2 id="使用源码编译UE5引擎"><a href="#使用源码编译UE5引擎" class="headerlink" title="使用源码编译UE5引擎"></a>使用源码编译UE5引擎</h2><p><a href="https://github.com/EpicGames/UnrealEngine">EpicGames&#x2F;UnrealEngine: Unreal Engine source code</a></p><p>DS服务器需要使用 <code>Development Server</code>编译模式，这个模式只有使用源码编译的UE5所创建的工程才有这个模式。</p><h2 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h2><p>使用源码编译的UE5创建一个空的C++项目。这里新建一个名为 <code>DSDemo</code>的C++项目。<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733056945562.png" alt="1733056945562"></p><p>创建三个level，分别对应客户端默认地图、服务器默认地图、过渡时地图，并配置在项目设置中。</p><p><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733057227697.png" alt="1733057227697"></p><p>在关卡蓝图的tick事件上输出关卡名字，便于观察。</p><p><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733057299335.png" alt="1733057299335"></p><h2 id="编译DS服务器"><a href="#编译DS服务器" class="headerlink" title="编译DS服务器"></a>编译DS服务器</h2><p>打开VS工程，将编译模式更换为 <code>Development Server</code>，然后手动添加一个DSDemoServer.Target.cs。</p><blockquote><p>可以直接复制DSDemoEditor.Target.cs，将cs脚本中 <code>Editor</code>字样替换为 <code>Server</code>即可。</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">using</span> UnrealBuildTool;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DSDemoServerTarget</span> : <span class="hljs-title">TargetRules</span><br>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DSDemoServerTarget</span>(<span class="hljs-params"> TargetInfo Target</span>) : <span class="hljs-title">base</span>(<span class="hljs-params">Target</span>)</span><br>&#123;<br>Type = TargetType.Server;<br>DefaultBuildSettings = BuildSettingsVersion.V5;<br>IncludeOrderVersion = EngineIncludeOrderVersion.Unreal5_5;<br>ExtraModuleNames.Add(<span class="hljs-string">&quot;DSDemo&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>重新生成VS工程，或者直接将文件添加在项目中。</p><p><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733057619987.png" alt="1733057619987"></p><p>然后触发编译，编译的时间比较久。编译成功后，可以在工程目录的 <code>Binaries\Win64</code>下看到编译出来的 <code>DSDemoServer.exe</code></p><p>此时exe不能运行，因为他需要依赖一些客户端代码，所以需要等客户端打包出来之后，放到客户端的文件夹下运行。</p><h2 id="打包客户端"><a href="#打包客户端" class="headerlink" title="打包客户端"></a>打包客户端</h2><p>把VS的编译模式改为 <code>Development Editor</code>，编译启动引擎，然后打包工程。</p><p><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733057915429.png" alt="1733057915429"></p><h2 id="启动DS服务器"><a href="#启动DS服务器" class="headerlink" title="启动DS服务器"></a>启动DS服务器</h2><p>将 <code>DSDemoServer.exe</code>拷贝到打包出来的客户端目录中 <code>··\Windows\DSDemo\Binaries\Win64</code></p><p>启动DS服务器有三种方式：</p><ul><li>双击打开 <code>DSDemoServer.exe</code>，DS服务器将在后台运行</li><li>通过cmd启动，给exe传入参数 <code>-log</code>，DS服务器将以控制台形式打开，并在控制台输出日志。<br><code>start DSDemoServer.exe -log</code></li><li>为 <code>DSDemoServer.exe</code>创建快捷方式，并设置启动参数，双击快捷方式打开<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733059942704.png" alt="1733059942704"></li></ul><p>启动DS服务器，可以在控制台看到，服务器加载了默认的ServerMap:<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733060023613.png" alt="1733060023613"></p><h2 id="客户端连接DS服务器"><a href="#客户端连接DS服务器" class="headerlink" title="客户端连接DS服务器"></a>客户端连接DS服务器</h2><p>启动客户端，可以看到此时客户端加载的事默认的ClientMap<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733060113856.png" alt="1733060113856"></p><p>通过控制台 <code>~</code>，输入命令连接服务器：<code>open 127.0.0.1</code>，可以看到客户端同步了服务器的地图<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733060168800.png" alt="1733060168800"></p><p>并且在服务器控制台日志中看到了DS收到了客户端的连接请求<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733060244960.png" alt="1733060244960"></p><h2 id="简单实现人物的同步"><a href="#简单实现人物的同步" class="headerlink" title="简单实现人物的同步"></a>简单实现人物的同步</h2><p>向工程中添加第一人称模板。修改ClientMap和ServerMap，添加天空球和光源，增加一个Plane便于角色行走，添加PlayerStart控制角色出生位置。<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733064784786.png" alt="1733064784786"></p><p>TransitionMap无需修改。</p><p>修改项目设置，修改GameMode为第三人称模板中自带的GameMode。<br><img src="/image/%E3%80%90DS%E3%80%91%E8%AE%BE%E7%BD%AE%E5%90%AF%E7%94%A8%E4%B8%93%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8/1733064850297.png" alt="1733064850297"></p><p>重新编译服务器，打包客户端。详见演示视频。</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
